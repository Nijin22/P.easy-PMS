<#import "../layout/peasyLayout.ftl.html" as layout>
<@layout.peasyLayout "Tasks">

<div id="project">
	<div class="page-header">
		<h1>${task.project.name}-${task.name}</h1>
	</div>
	<div class="container">
		<div class="row">
			<div role="tabpanel">
				<div class="col-sm-3">
					<ul class="nav nav-pills brand-pills nav-stacked" role="tablist">
							<li role="presentation" class="brand-nav"><a
								href="/projects/${project.projectId}">${i18n("projectsidebar.overview")}</a></li>
							<li role="presentation" class="brand-nav active"><a
								href="/projects/${project.projectId}/tasks/1">${i18n("projectsidebar.taskoverview")}</a></li>
							<li role="presentation" class="brand-nav"><a
								href="/projects/${project.projectId}/members" >${i18n("projectsidebar.members")}</a></li>
							<li role="presentation" class="brand-nav"><a
								href="/projects/${project.projectId}/report">${i18n("projectsidebar.report")}</a></li>
							<li role="presentation" class="brand-nav"><a
								href="/projects/${project.projectId}/milestones">${i18n("projectsidebar.milestones")}</a></li>
					</ul>
				</div>
				<div class="col-sm-9">
					<div class="tab-content">
						<div role="tabpanel" class="tab-pane active" id="tab1">
							<p>
								<!--Button Project Description Start -->
								<button class="btn btn-primary" data-toggle="collapse"
									data-target="#details1">${i18n('task.taskDescription')}</button>
							<div id="details1" class="collapse">
								${task.description}</div>
							<br>
							<!-- Buttom Project Description End -->
							<!-- Start Progess Bar -->
							<div class="progress">
								<div class="progress-bar" role="progressbar" aria-valuenow="70"
									aria-valuemin="0" aria-valuemax="100" style="width: ${task.progress}%">${task.progress}%</div>
							</div>
							<!-- End Progess Bar -->

							<!--Start Input Parameters of Project -->
							<TABLE>
								<TR class="spaceUnder">
									<TD><strong>${i18n('task.taskDependency')}</strong></TD>
									<TD><input class="form-control" type="text" value="Task 2"
										id="example-date-input"></TD>
									<TD></TD>

																			<TD><strong>${i18n('task.taskProgress')}</strong></TD>
									<TD><input class="form-control" type="text" value="${task.progress}%"
										id="example-date-input"></TD>
								</TR>
								<TR class="spaceUnder">
									<TD><strong>${i18n('task.taskStart')}</strong></TD>
									<TD><input class="form-control" type="date"
										value="2011-08-19" id="example-date-input"></TD>
										<TD></TD>
									<TD><strong>${i18n('task.taskEffort')}</strong></TD>
									<TD><input class="form-control" type="number" value="42"
										id="example-number-input"></TD>
								</TR>

								</TR>
								<TR class="spaceUnder">
									<TD><strong>${i18n('task.taskMilestone')}</strong></TD>
									<TD><input class="form-control" type="text" value="42"
										id="example-number-input"></TD>
											<TD></TD>
																			<TD><strong>${i18n('task.taskRealEffort')}</strong></TD>
									<TD><input class="form-control" type="number" value="42"
										id="example-number-input"></TD>
								</TR>

							</TABLE>
							
														<hr>
							<h4><strong>${i18n('task.dependencies')}</strong></h4>
							<table id="mytable1" class="table table-bordred table-striped">
                     <thead>
                        <th>${i18n('task.number')}</th>
                        <th>${i18n('task.taskEfford')}</th>
                        <th>${i18n('task.efford')}</th>

                     </thead>
                     <tbody>
                        <tr>
                           <td>12</td>
                           <td>follow up Meeting</td>
                           <td>13.000</td>
                           <td>
                              <p data-placement="top" data-toggle="tooltip" title="Edit"><button class="btn btn-primary btn-xs" data-title="Edit" data-toggle="modal" data-target="#edit" ><span class="glyphicon glyphicon-pencil"></span></button></p>
                           </td>
                           <td>
                              <p data-placement="top" data-toggle="tooltip" title="Delete"><button class="btn btn-danger btn-xs" data-title="Delete" data-toggle="modal" data-target="#delete" ><span class="glyphicon glyphicon-trash"></span></button></p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
							
							
							<hr>
							<h4><strong>${i18n('task.taskMembers')}</strong></h4>
							<table id="mytable1" class="table table-bordred table-striped">
                     <thead>
                        <th>${i18n('members.firstName')}</th>
                        <th>${i18n('members.lastName')}</th>
                        <th>${i18n('members.email')}</th>
                        <th>${i18n('members.editRow')}</th>
                        <th>${i18n('members.deleteRow')}</th>
                     </thead>
                     <tbody>
                        <tr>
                           <td>John</td>
                           <td>Doe</td>
                           <td>john.doe@example.com</td>
                           <td>
                              <p data-placement="top" data-toggle="tooltip" title="Edit"><button class="btn btn-primary btn-xs" data-title="Edit" data-toggle="modal" data-target="#edit" ><span class="glyphicon glyphicon-pencil"></span></button></p>
                           </td>
                           <td>
                              <p data-placement="top" data-toggle="tooltip" title="Delete"><button class="btn btn-danger btn-xs" data-title="Delete" data-toggle="modal" data-target="#delete" ><span class="glyphicon glyphicon-trash"></span></button></p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
							
							
							<!--End Input Parameters of Project -->
							<hr>
							<!--start Fileupload list -->

							<input type="text" id="myInput" onkeyup="myFunction()"
								placeholder="File Search">
							<!-- 							<div class="form-group has-feedback"> -->
							<!-- 							    <input type="text" class="form-control"  onkeyup="myFunction()" -->
							<!-- 															placeholder="File Search" /> -->
							<!-- 							    <i class="glyphicon glyphicon-search form-control-feedback"></i> -->
							<!-- 							</div> -->

							<table id="myTable">
								<tr class="header">
									<th style="width: 80%;">${i18n('task.files')}</th>
									<th style="width: 10%;"></th>
									<th style="width: 10%;"></th>
								</tr>
								<#list files as file>
                                <tr>
                                    <td><a href="">${file.title}</a></td>
                                    <td><a href='/download/${file.fileId}/task'><span class="glyphicon glyphicon-download"></span></a></td>
                                    <td><a href="/delete/task/${file.fileId}/${task.taskId}" data-method="delete"><span class="glyphicon glyphicon-trash"></span></a></td>
                                </tr>
							</#list>
							</table>
							<!--End FileUpload list-->
							<br>
							<!--Start Fileupload -->
							<form method="post" enctype="multipart/form-data"
								action='/uploadFinish/${task.taskId}'>
								<!-- 								Please specify file to upload: <input type="file" name="upfile"> -->
								<br> <label class="custom-file"> 
                                <input type="file" name="file" class="custom-file-input"> <span class="custom-file-control"></span>
							     <input type="text" name="type" value ="task" style="visibility: hidden">
								</label>
								<button type="submit" class="btn btn-primary">${i18n('task.submit')}</button>
							</form>
							<!--End Fileupload -->
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- CSS is not found therefor its in html Template -->
<script>
	function myFunction() {
		// Declare variables 
		var input, filter, table, tr, td, i;
		input = document.getElementById("myInput");
		filter = input.value.toUpperCase();
		table = document.getElementById("myTable");
		tr = table.getElementsByTagName("tr");

		// Loop through all table rows, and hide those who don't match the search query
		for (i = 0; i < tr.length; i++) {
			td = tr[i].getElementsByTagName("td")[0];
			if (td) {
				if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
					tr[i].style.display = "";
				} else {
					tr[i].style.display = "none";
				}
			}
		}
	}
</script>

<style>

 #project {
	margin: 2%;
}

.spaceUnder {
	padding-bottom: 1em;
	border-spacing: 10px;
}

.form-control {
	margin-left: 0.35cm;
}

#myInput {
	background-image: url('/css/searchicon.png');
	/* Add a search icon to input */
	background-position: 10px 12px; /* Position the search icon */
	background-repeat: no-repeat; /* Do not repeat the icon image */
	width: 30%;
	Full-width font-size: 16px; /* Increase font-size */
	padding: 12px 20px 12px 40px; /* Add some padding */
	border: 1px solid #ddd; /* Add a grey border */
	margin-bottom: 12px; /* Add some space below the input */
}

#myTable {
	border-collapse: collapse; /* Collapse borders */
	width: 100%; /* Full-width */
	border: 1px solid #ddd; /* Add a grey border */
	font-size: 18px; /* Increase font-size */
}

#myTable th, #myTable td {
	text-align: left; /* Left-align text */
	padding: 12px; /* Add padding */
}

#myTable tr {
	/* Add a bottom border to all table rows */
	border-bottom: 1px solid #ddd;
}

#myTable tr.header, #myTable tr:hover {
	/* Add a grey background color to the table header and on hover */
	background-color: #f1f1f1;
}

table tr td:empty {
	width: 5%;
}
</style>

</@layout.peasyLayout>


